package kabusinessrules

import at.vaeb.kv.ka.sample.record.KAInputRecord;
import at.vaeb.kv.ka.sample.record.ValidationResultCollector;
import at.vaeb.kv.ka.sample.dao.IcdCodeDao;

import org.apache.commons.lang3.StringUtils;
import java.time.LocalDate;

global ValidationResultCollector validationResultCollector;
global IcdCodeDao icdCodeDao;

expander validation.dsl

rule "Person soll einen Vornamen haben"
	when
		Der Spitalsaufenthalt
		- beinhaltet keinen Vornamen
	then
		Warnung Der Spitalsaufenthalt beinhaltet keinen Vornamen
end

rule "Person muss einen Nachnamen haben"
	when
		Der Spitalsaufenthalt
		- beinhaltet keinen Nachnamen
	then
		Fehler Der Spitalsaufenthalt beinhaltet keinen Nachnamen
end

rule "Spitalsaufenthalt muss ein Datum von beinhalten"
	when
		Der Spitalsaufenthalt
		- beinhaltet kein Datum von
	then
		Fehler Der Spitalsaufenthalt beinhaltet kein Datum von
end

rule "Der Nachname muss mindestens 5 Zeichen lang sein"
	when
		Der Spitalsaufenthalt
		- der Nachname ist kuerzer as 5 Zeichen
	then
		Fehler Der Nachname ist kuerzer als 5 Zeichen
end

rule "Der Aufenthalt darf maximal 30 Tage dauern"
	when
		Der Spitalsaufenthalt
		- laenger als 30 Tage ist
	then
		Warnung Der Spitalsaufenthalt soll maximal 30 Tage dauern
end

rule "Die Diagnose ist kein gueltiger ICD10 Code"
	when
		Der Spitalsaufenthalt
		- die Diagnose ist kein gueltiger ICD10 Code
	then
		Fehler Die Diagnose ist kein gueltiger ICD10 Code
end